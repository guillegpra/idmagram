<!DOCTYPE html>
<html lang="en">
    <%- include('./common/head'); %>

    <body>
        <%- include('./common/nav'); %>
        
        <div class="login px-5">
            <h1>Log in</h1>

            <% if (success_message !== "") { %>
            <div class="success-message alert alert-success mt-3" role="alert">
                <%= success_message %>
            </div>
            <% } %>

            <% if (messages.error) { %>
                <div class="error-message alert alert-danger mt-3" role="alert">
                    <%= messages.error %>
                </div>
            <% } %>

            <form action="/login" method="post">
                <div class="form-group pt-3">
                    <label for="username">Username:</label>
                    <input type="text" class="form-control" name="username" id="username" placeholder="Username">
                </div>

                <div class="form-group pt-2">
                    <label for="password">Password:</label>
                    <input type="password" class="form-control" name="password" id="password" placeholder="Password" required>
                </div>

                <div class="form-check pt-2">
                    <input type="checkbox" class="form-check-input" name="pwd-toggle" id="pwd-toggle" onclick="showPassword()">
                    <label class="form-check-label" for="pwd-toggle">Show password</label>
                </div>

                <button type="submit" class="btn btn-primary my-2">Log in</button>
            </form>

            <div class="create text-muted mb-3">
                <small>Don't have an account yet? <a href="/register">Create one here</a>.</small>
            </div>
        </div>

        <%- include('./common/footer'); %>

        <script>
            function showPassword() {
                var toggle = document.getElementById("password");
                if (toggle.type === "password") {
                    toggle.type = "text";
                } else {
                    toggle.type = "password";
                }
            }
        </script>

    </body>
</html>